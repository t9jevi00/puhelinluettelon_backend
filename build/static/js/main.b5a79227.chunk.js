(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(14),u=t.n(c),r=t(3),i=t(2),a=t(4),l=t.n(a),s="api/persons",o=function(){return l.a.get(s).then((function(e){return e.data}))},j=function(e){return l.a.post(s,e).then((function(e){return e.data}))},d=function(e){return l.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=t(0),h=function(e){var n=e.message;return null===n?null:Object(b.jsx)("div",{className:"added",children:n})},m=function(e){var n=e.message;return null===n?null:Object(b.jsx)("div",{className:"remove",children:n})},O=function(e){var n=e.name,t=e.handleDelete,c=e.id,u=e.number;return Object(b.jsxs)("li",{children:["Name: ",n," Number: ",u," Id: ",c," ",Object(b.jsx)("button",{onClick:t,children:"Delete"})]})},f=function(e){var n=e.onSubmit,t=e.name,c=e.number,u=e.handleName,r=e.handleNumber;return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:n,children:[Object(b.jsxs)("div",{children:["name: ",Object(b.jsx)("input",{value:t.newName,onChange:u})]}),Object(b.jsxs)("div",{children:["number: ",Object(b.jsx)("input",{value:c.newNumber,onChange:r})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})})},v=function(e){var n=e.onChange,t=e.value;return Object(b.jsxs)("div",{children:["search: ",Object(b.jsx)("input",{value:t.newFilter,onChange:n})]})},x=function(){var e=Object(i.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],u=Object(i.useState)(""),a=Object(r.a)(u,2),l=a[0],s=a[1],x=Object(i.useState)(""),g=Object(r.a)(x,2),p=g[0],w=g[1],N=Object(i.useState)(""),S=Object(r.a)(N,2),C=S[0],y=S[1],D=Object(i.useState)(null),k=Object(r.a)(D,2),A=k[0],E=k[1],I=Object(i.useState)(null),J=Object(r.a)(I,2),L=J[0],T=J[1],B="";Object(i.useEffect)((function(){o().then((function(e){c(e)}))}),[]),console.log("render",t.length,"persons");return 0===(B=t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}))).length&&(B=t),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{message:A}),Object(b.jsx)(m,{message:L})]}),Object(b.jsx)("div",{children:Object(b.jsx)(f,{onSubmit:function(e){e.preventDefault();var n={name:l,number:p};0!==l.length&&0!==p.length&&(t.map((function(e){return e.name})).includes(l)?window.alert(l+"Already exists"):j(n).then((function(e){c(t.concat(e)),E("Added "+l),setTimeout((function(){E(null)}),5e3),s(""),w("")})))},handleName:function(e){s(e.target.value)},handleNumber:function(e){w(e.target.value)},name:l,number:p})}),Object(b.jsx)("div",{children:Object(b.jsx)(v,{value:C,onChange:function(e){y(e.target.value)}})}),Object(b.jsx)("h2",{children:"Numbers"}),Object(b.jsx)("div",{children:Object(b.jsx)("ul",{children:B.map((function(e){return Object(b.jsx)(O,{name:e.name,number:e.number,id:e.id,handleDelete:function(){return function(e){var n=t.find((function(n){return n.id===e}));console.log(n),window.confirm("Do you want to delete the entry?")&&(d(e,n),o().then((function(e){c(e)})),T("Removed "+n.name),setTimeout((function(){T(null)}),5e3))}(e.id)}},e.id)}))})})]})};t(38);u.a.render(Object(b.jsx)(x,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b5a79227.chunk.js.map